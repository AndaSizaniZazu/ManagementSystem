@page "/updatecourse"
@using Csla;
@using ManagementSystem.BusinessLogicLayer;
@using MudBlazor;
@inject ISnackbar Snackbar

<PageTitle>Update</PageTitle>
<br />
<EditForm Model="@Course">
    <DataAnnotationsValidator />
    <Csla.Blazor.CslaValidator />
    <MudDialog>
        <DialogContent>
             <MudGrid class="justify-space-between" >
            <MudItem sm="10" md="10">
                <MudTextField @bind-Value="Course.Name" Label="Name" Variant="Variant.Text" For="(() => Course.Name)" Immediate>Name</MudTextField>
            </MudItem>
            <MudItem sm="10" md="10">
                 <MudTextField @bind-Value="Course.Code" Label="Code" For="(() => Course.Code)" Immediate Variant="Variant.Outlined">Code</MudTextField>
            </MudItem>
             <MudItem sm="10" md="10">

                 <MudTextField @bind-Value="Course.Credits" Label="Credits" Variant="Variant.Outlined" For="(() => Course.Credits)" Immediate>Credits</MudTextField>
            </MudItem>
            <MudItem sm="10" md="10">

                <MudTextField @bind-Value="Course.Description" Label="Description" For="(() => Course.Description)" Immediate Variant="Variant.Outlined">Description</MudTextField>
             </MudItem>
                 <MudItem sm="10" md="10">

                     <MudTextField @bind-Value="Course.Department" Label="Department" For="(() => Course.Department)" Immediate Variant="Variant.Outlined">Department</MudTextField>
                 </MudItem>
             </MudGrid>
        </DialogContent>
        <DialogActions>
             <MudButton Variant="Variant.Filled" Color="Color.Primary"  OnClick="Save" Disabled=@(!Course.IsDirty)>Save</MudButton>
        </DialogActions>
    </MudDialog>
</EditForm>
<br />



 @code {

    [Parameter]
    public CourseBL Course { get; set; }
    [CascadingParameter] MudDialogInstance MudDialog { get; set; }


    protected override async Task OnInitializedAsync()
    {

    }

   private void Save()
    {
        MudDialog.Close(_=Course.Save());

    }

}


